<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_181) on Mon May 29 16:36:55 EDT 2023 -->
<title>ResetManager</title>
<meta name="date" content="2023-05-29">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="ResetManager";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":6,"i2":6,"i3":10,"i4":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/ResetManager.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/apache/manifoldcf/crawler/system/QueuedDocumentSet.html" title="class in org.apache.manifoldcf.crawler.system"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../org/apache/manifoldcf/crawler/system/SeedingActivity.html" title="class in org.apache.manifoldcf.crawler.system"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/apache/manifoldcf/crawler/system/ResetManager.html" target="_top">Frames</a></li>
<li><a href="ResetManager.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apache.manifoldcf.crawler.system</div>
<h2 title="Class ResetManager" class="title">Class ResetManager</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>org.apache.manifoldcf.crawler.system.ResetManager</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><a href="../../../../../org/apache/manifoldcf/crawler/system/DeleteStartupResetManager.html" title="class in org.apache.manifoldcf.crawler.system">DeleteStartupResetManager</a>, <a href="../../../../../org/apache/manifoldcf/crawler/system/DocCleanupResetManager.html" title="class in org.apache.manifoldcf.crawler.system">DocCleanupResetManager</a>, <a href="../../../../../org/apache/manifoldcf/crawler/system/DocDeleteResetManager.html" title="class in org.apache.manifoldcf.crawler.system">DocDeleteResetManager</a>, <a href="../../../../../org/apache/manifoldcf/crawler/system/NotificationResetManager.html" title="class in org.apache.manifoldcf.crawler.system">NotificationResetManager</a>, <a href="../../../../../org/apache/manifoldcf/crawler/system/SeedingResetManager.html" title="class in org.apache.manifoldcf.crawler.system">SeedingResetManager</a>, <a href="../../../../../org/apache/manifoldcf/crawler/system/StartupResetManager.html" title="class in org.apache.manifoldcf.crawler.system">StartupResetManager</a>, <a href="../../../../../org/apache/manifoldcf/crawler/system/WorkerResetManager.html" title="class in org.apache.manifoldcf.crawler.system">WorkerResetManager</a></dd>
</dl>
<hr>
<br>
<pre>public abstract class <span class="typeNameLabel">ResetManager</span>
extends java.lang.Object</pre>
<div class="block">The reset manager basically keeps track of threads that work together.  If the
 threads get hosed as a result of problems, then certain resets need to be done.
 Each instance of this manager therefore tracks all the threads which depend or
 affect a condition that needs explicit resetting.  When a thread recognizes that
 the database (or whatever resource) is potentially in a state where a reset for
 the particular condition is required, then the corresponding reset manager object
 will cause all dependent threads to block, until they are all accounted for.
 Then, the corrective reset is done, and the threads are released (with a signal
 corresponding to the fact that a reset occurred returned).

 This class is meant to be extended in order to implement the exact reset
 functionality required.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/manifoldcf/crawler/system/ResetManager.html#Z:Z_rcsid">_rcsid</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/manifoldcf/crawler/system/ResetManager.html#involvedThreadCount">involvedThreadCount</a></span></code>
<div class="block">This is the count of the threads that care about this resource.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/manifoldcf/crawler/system/ResetManager.html#processID">processID</a></span></code>
<div class="block">Process ID</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/manifoldcf/crawler/system/ResetManager.html#resetRequired">resetRequired</a></span></code>
<div class="block">Boolean which describes whether an event requiring reset has occurred.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/manifoldcf/crawler/system/ResetManager.html#waitingThreads">waitingThreads</a></span></code>
<div class="block">This is the number of threads that are waiting for the reset.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../../org/apache/manifoldcf/crawler/system/ResetManager.html#ResetManager-java.lang.String-">ResetManager</a></span>(java.lang.String&nbsp;processID)</code>
<div class="block">Constructor.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/manifoldcf/crawler/system/ResetManager.html#noteEvent--">noteEvent</a></span>()</code>
<div class="block">Note a resettable event.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>protected abstract void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/manifoldcf/crawler/system/ResetManager.html#performResetLogic-org.apache.manifoldcf.core.interfaces.IThreadContext-java.lang.String-">performResetLogic</a></span>(<a href="../../../../../org/apache/manifoldcf/core/interfaces/IThreadContext.html" title="interface in org.apache.manifoldcf.core.interfaces">IThreadContext</a>&nbsp;tc,
                 java.lang.String&nbsp;processID)</code>
<div class="block">Do the reset logic.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>protected abstract void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/manifoldcf/crawler/system/ResetManager.html#performWakeupLogic--">performWakeupLogic</a></span>()</code>
<div class="block">Do the wakeup logic.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/manifoldcf/crawler/system/ResetManager.html#registerMe--">registerMe</a></span>()</code>
<div class="block">Register a thread with this reset manager.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/manifoldcf/crawler/system/ResetManager.html#waitForReset-org.apache.manifoldcf.core.interfaces.IThreadContext-">waitForReset</a></span>(<a href="../../../../../org/apache/manifoldcf/core/interfaces/IThreadContext.html" title="interface in org.apache.manifoldcf.core.interfaces">IThreadContext</a>&nbsp;tc)</code>
<div class="block">Enter "wait" state for current thread.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="Z:Z_rcsid">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>_rcsid</h4>
<pre>public static final&nbsp;java.lang.String _rcsid</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../constant-values.html#org.apache.manifoldcf.crawler.system.ResetManager._rcsid">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="processID">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>processID</h4>
<pre>protected final&nbsp;java.lang.String processID</pre>
<div class="block">Process ID</div>
</li>
</ul>
<a name="resetRequired">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>resetRequired</h4>
<pre>protected volatile&nbsp;boolean resetRequired</pre>
<div class="block">Boolean which describes whether an event requiring reset has occurred.</div>
</li>
</ul>
<a name="involvedThreadCount">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>involvedThreadCount</h4>
<pre>protected&nbsp;int involvedThreadCount</pre>
<div class="block">This is the count of the threads that care about this resource.</div>
</li>
</ul>
<a name="waitingThreads">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>waitingThreads</h4>
<pre>protected volatile&nbsp;int waitingThreads</pre>
<div class="block">This is the number of threads that are waiting for the reset.</div>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="ResetManager-java.lang.String-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>ResetManager</h4>
<pre>public&nbsp;ResetManager(java.lang.String&nbsp;processID)</pre>
<div class="block">Constructor.</div>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="registerMe--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>registerMe</h4>
<pre>public&nbsp;void&nbsp;registerMe()</pre>
<div class="block">Register a thread with this reset manager.</div>
</li>
</ul>
<a name="noteEvent--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>noteEvent</h4>
<pre>public&nbsp;void&nbsp;noteEvent()</pre>
<div class="block">Note a resettable event.</div>
</li>
</ul>
<a name="waitForReset-org.apache.manifoldcf.core.interfaces.IThreadContext-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>waitForReset</h4>
<pre>public&nbsp;boolean&nbsp;waitForReset(<a href="../../../../../org/apache/manifoldcf/core/interfaces/IThreadContext.html" title="interface in org.apache.manifoldcf.core.interfaces">IThreadContext</a>&nbsp;tc)
                     throws <a href="../../../../../org/apache/manifoldcf/core/interfaces/ManifoldCFException.html" title="class in org.apache.manifoldcf.core.interfaces">ManifoldCFException</a>,
                            java.lang.InterruptedException</pre>
<div class="block">Enter "wait" state for current thread.
 This method is the main logic for the reset manager.  A thread
 calls this method, which may block until all other threads are
 waiting too.  Then, the reset method is called by exactly ONE
 of the waiting threads, and they all are released.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>false if no reset took place, or true if one did.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../org/apache/manifoldcf/core/interfaces/ManifoldCFException.html" title="class in org.apache.manifoldcf.core.interfaces">ManifoldCFException</a></code></dd>
<dd><code>java.lang.InterruptedException</code></dd>
</dl>
</li>
</ul>
<a name="performResetLogic-org.apache.manifoldcf.core.interfaces.IThreadContext-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>performResetLogic</h4>
<pre>protected abstract&nbsp;void&nbsp;performResetLogic(<a href="../../../../../org/apache/manifoldcf/core/interfaces/IThreadContext.html" title="interface in org.apache.manifoldcf.core.interfaces">IThreadContext</a>&nbsp;tc,
                                          java.lang.String&nbsp;processID)
                                   throws <a href="../../../../../org/apache/manifoldcf/core/interfaces/ManifoldCFException.html" title="class in org.apache.manifoldcf.core.interfaces">ManifoldCFException</a></pre>
<div class="block">Do the reset logic.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../org/apache/manifoldcf/core/interfaces/ManifoldCFException.html" title="class in org.apache.manifoldcf.core.interfaces">ManifoldCFException</a></code></dd>
</dl>
</li>
</ul>
<a name="performWakeupLogic--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>performWakeupLogic</h4>
<pre>protected abstract&nbsp;void&nbsp;performWakeupLogic()</pre>
<div class="block">Do the wakeup logic.</div>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/ResetManager.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/apache/manifoldcf/crawler/system/QueuedDocumentSet.html" title="class in org.apache.manifoldcf.crawler.system"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../org/apache/manifoldcf/crawler/system/SeedingActivity.html" title="class in org.apache.manifoldcf.crawler.system"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/apache/manifoldcf/crawler/system/ResetManager.html" target="_top">Frames</a></li>
<li><a href="ResetManager.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
