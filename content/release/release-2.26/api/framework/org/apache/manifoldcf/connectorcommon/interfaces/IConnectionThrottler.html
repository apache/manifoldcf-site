<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (11.0.4) on Sat Oct 28 11:39:32 EDT 2023 -->
<title>IConnectionThrottler</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="dc.created" content="2023-10-28">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../jquery/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../../../jquery/jquery-3.3.1.js"></script>
<script type="text/javascript" src="../../../../../jquery/jquery-migrate-3.0.1.js"></script>
<script type="text/javascript" src="../../../../../jquery/jquery-ui.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="IConnectionThrottler";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":6,"i1":6,"i2":6,"i3":6,"i4":6,"i5":6,"i6":6,"i7":6};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../../../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/IConnectionThrottler.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">org.apache.manifoldcf.connectorcommon.interfaces</a></div>
<h2 title="Interface IConnectionThrottler" class="title">Interface IConnectionThrottler</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Known Implementing Classes:</dt>
<dd><code><a href="../throttler/Throttler.ConnectionThrottler.html" title="class in org.apache.manifoldcf.connectorcommon.throttler">Throttler.ConnectionThrottler</a></code></dd>
</dl>
<hr>
<pre>public interface <span class="typeNameLabel">IConnectionThrottler</span></pre>
<div class="block">An IConnectionThrottler object is not thread-local.  It gates connection
 creation and pool management.
 The underlying model is a pool of connections.  A connection gets pulled off the pool and
 used to perform a fetch.  If there are insufficient connections in the pool, and there is
 sufficient capacity to create a new connection, a connection will be created instead.
 When the fetch is done, the connection is returned, and then there is a decision whether
 or not to put the connection back into the pool, or to destroy it.  Finally, the pool is
 periodically evaluated, and connections may be destroyed if either they have expired,
 or the allocated connections are still over capacity.

 This object does not in itself contain a connection pool - but it is intended to assist
 in the management of that pool.  Specifically, it tracks connections that are in the
 pool, and connections that are handed out for use, and performs ALL the waiting needed
 due to the pool being empty and/or the number of active connections being at or over
 the quota.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Field</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#_rcsid">_rcsid</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#CONNECTION_FROM_CREATION">CONNECTION_FROM_CREATION</a></span></code></th>
<td class="colLast">
<div class="block">Create a connection</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#CONNECTION_FROM_NOWHERE">CONNECTION_FROM_NOWHERE</a></span></code></th>
<td class="colLast">
<div class="block">Pool shutting down</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#CONNECTION_FROM_POOL">CONNECTION_FROM_POOL</a></span></code></th>
<td class="colLast">
<div class="block">Get the connection from the pool</div>
</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ========== METHOD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#checkDestroyPooledConnection()">checkDestroyPooledConnection</a></span>()</code></th>
<td class="colLast">
<div class="block">This method calculates whether a connection should be taken from the pool and destroyed
  /* in order to meet quota requirements.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#checkExpireConnection()">checkExpireConnection</a></span>()</code></th>
<td class="colLast">
<div class="block">Connection expiration is tricky, because even though a connection may be identified as
 being expired, at the very same moment it could be handed out in another thread.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code><a href="IFetchThrottler.html" title="interface in org.apache.manifoldcf.connectorcommon.interfaces">IFetchThrottler</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getNewConnectionFetchThrottler()">getNewConnectionFetchThrottler</a></span>()</code></th>
<td class="colLast">
<div class="block">For a new connection, obtain the fetch throttler to use for the connection.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#noteConnectionDestroyed()">noteConnectionDestroyed</a></span>()</code></th>
<td class="colLast">
<div class="block">Note that a connection has been destroyed.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#noteConnectionReturnedToPool()">noteConnectionReturnedToPool</a></span>()</code></th>
<td class="colLast">
<div class="block">Note that a connection has been returned to the pool.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#noteReturnedConnection()">noteReturnedConnection</a></span>()</code></th>
<td class="colLast">
<div class="block">This method indicates whether a formerly in-use connection should be placed back
 in the pool or destroyed.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#waitConnectionAvailable()">waitConnectionAvailable</a></span>()</code></th>
<td class="colLast">
<div class="block">Get permission to grab a connection for use.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#waitConnectionAvailable(org.apache.manifoldcf.connectorcommon.interfaces.IBreakCheck)">waitConnectionAvailable</a></span>&#8203;(<a href="IBreakCheck.html" title="interface in org.apache.manifoldcf.connectorcommon.interfaces">IBreakCheck</a>&nbsp;breakCheck)</code></th>
<td class="colLast">
<div class="block">Get permission to grab a connection for use.</div>
</td>
</tr>
</table>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a id="_rcsid">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>_rcsid</h4>
<pre>static final&nbsp;java.lang.String _rcsid</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../constant-values.html#org.apache.manifoldcf.connectorcommon.interfaces.IConnectionThrottler._rcsid">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a id="CONNECTION_FROM_POOL">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>CONNECTION_FROM_POOL</h4>
<pre>static final&nbsp;int CONNECTION_FROM_POOL</pre>
<div class="block">Get the connection from the pool</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../constant-values.html#org.apache.manifoldcf.connectorcommon.interfaces.IConnectionThrottler.CONNECTION_FROM_POOL">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a id="CONNECTION_FROM_CREATION">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>CONNECTION_FROM_CREATION</h4>
<pre>static final&nbsp;int CONNECTION_FROM_CREATION</pre>
<div class="block">Create a connection</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../constant-values.html#org.apache.manifoldcf.connectorcommon.interfaces.IConnectionThrottler.CONNECTION_FROM_CREATION">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a id="CONNECTION_FROM_NOWHERE">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>CONNECTION_FROM_NOWHERE</h4>
<pre>static final&nbsp;int CONNECTION_FROM_NOWHERE</pre>
<div class="block">Pool shutting down</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../constant-values.html#org.apache.manifoldcf.connectorcommon.interfaces.IConnectionThrottler.CONNECTION_FROM_NOWHERE">Constant Field Values</a></dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
<!-- ============ METHOD DETAIL ========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="waitConnectionAvailable()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>waitConnectionAvailable</h4>
<pre class="methodSignature">int&nbsp;waitConnectionAvailable()
                     throws java.lang.InterruptedException</pre>
<div class="block">Get permission to grab a connection for use.  If this object believes there is a connection
 available in the pool, it will update its pool size variable and return   If not, this method
 evaluates whether a new connection should be created.  If neither condition is true, it
 waits until a connection is available.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>whether to take the connection from the pool, or create one, or whether the
 throttler is being shut down.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.InterruptedException</code></dd>
</dl>
</li>
</ul>
<a id="waitConnectionAvailable(org.apache.manifoldcf.connectorcommon.interfaces.IBreakCheck)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>waitConnectionAvailable</h4>
<pre class="methodSignature">int&nbsp;waitConnectionAvailable&#8203;(<a href="IBreakCheck.html" title="interface in org.apache.manifoldcf.connectorcommon.interfaces">IBreakCheck</a>&nbsp;breakCheck)
                     throws java.lang.InterruptedException,
                            <a href="BreakException.html" title="class in org.apache.manifoldcf.connectorcommon.interfaces">BreakException</a></pre>
<div class="block">Get permission to grab a connection for use.  If this object believes there is a connection
 available in the pool, it will update its pool size variable and return   If not, this method
 evaluates whether a new connection should be created.  If neither condition is true, it
 waits until a connection is available.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>whether to take the connection from the pool, or create one, or whether the
 throttler is being shut down.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.InterruptedException</code></dd>
<dd><code><a href="BreakException.html" title="class in org.apache.manifoldcf.connectorcommon.interfaces">BreakException</a></code></dd>
</dl>
</li>
</ul>
<a id="getNewConnectionFetchThrottler()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNewConnectionFetchThrottler</h4>
<pre class="methodSignature"><a href="IFetchThrottler.html" title="interface in org.apache.manifoldcf.connectorcommon.interfaces">IFetchThrottler</a>&nbsp;getNewConnectionFetchThrottler()</pre>
<div class="block">For a new connection, obtain the fetch throttler to use for the connection.
 If the result from waitConnectionAvailable() is CONNECTION_FROM_CREATION,
 the calling code is expected to create a connection using the result of this method.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the fetch throttler for a new connection.</dd>
</dl>
</li>
</ul>
<a id="noteReturnedConnection()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>noteReturnedConnection</h4>
<pre class="methodSignature">boolean&nbsp;noteReturnedConnection()</pre>
<div class="block">This method indicates whether a formerly in-use connection should be placed back
 in the pool or destroyed.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the connection should not be put into the pool but should instead
  simply be destroyed.  If true is returned, the caller MUST call noteConnectionDestroyed()
  after the connection is destroyed in order for the bookkeeping to work.  If false
  is returned, the caller MUST call noteConnectionReturnedToPool() after the connection
  is returned to the pool.</dd>
</dl>
</li>
</ul>
<a id="checkDestroyPooledConnection()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>checkDestroyPooledConnection</h4>
<pre class="methodSignature">boolean&nbsp;checkDestroyPooledConnection()</pre>
<div class="block">This method calculates whether a connection should be taken from the pool and destroyed
  /* in order to meet quota requirements.  If this method returns
  /* true, you MUST remove a connection from the pool, and you MUST call
  /* noteConnectionDestroyed() afterwards.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if a pooled connection should be destroyed.  If true is returned, the
 caller MUST call noteConnectionDestroyed() (below) in order for the bookkeeping to work.</dd>
</dl>
</li>
</ul>
<a id="checkExpireConnection()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>checkExpireConnection</h4>
<pre class="methodSignature">boolean&nbsp;checkExpireConnection()</pre>
<div class="block">Connection expiration is tricky, because even though a connection may be identified as
 being expired, at the very same moment it could be handed out in another thread.  So there
 is a natural race condition present.
 The way the connection throttler deals with that is to allow the caller to reserve a connection
 for expiration.  This must be called BEFORE the actual identified connection is removed from the
 connection pool.  If the value returned by this method is "true", then a connection MUST be removed
 from the pool and destroyed, whether or not the identified connection is actually still available for
 destruction or not.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if a connection from the pool can be expired.  If true is returned, noteConnectionDestruction()
  MUST be called once the connection has actually been destroyed.</dd>
</dl>
</li>
</ul>
<a id="noteConnectionReturnedToPool()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>noteConnectionReturnedToPool</h4>
<pre class="methodSignature">void&nbsp;noteConnectionReturnedToPool()</pre>
<div class="block">Note that a connection has been returned to the pool.  Call this method after a connection has been
 placed back into the pool and is available for use.</div>
</li>
</ul>
<a id="noteConnectionDestroyed()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>noteConnectionDestroyed</h4>
<pre class="methodSignature">void&nbsp;noteConnectionDestroyed()</pre>
<div class="block">Note that a connection has been destroyed.  Call this method ONLY after noteReturnedConnection()
 or checkDestroyPooledConnection() returns true, AND the connection has been already
 destroyed.</div>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/IConnectionThrottler.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
</footer>
</body>
</html>
