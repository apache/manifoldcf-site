<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_181) on Mon May 29 16:36:56 EDT 2023 -->
<title>Throttler.ConnectionThrottler</title>
<meta name="date" content="2023-05-29">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="Throttler.ConnectionThrottler";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Throttler.ConnectionThrottler.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/apache/manifoldcf/connectorcommon/throttler/Throttler.html" title="class in org.apache.manifoldcf.connectorcommon.throttler"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../org/apache/manifoldcf/connectorcommon/throttler/Throttler.FetchThrottler.html" title="class in org.apache.manifoldcf.connectorcommon.throttler"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/apache/manifoldcf/connectorcommon/throttler/Throttler.ConnectionThrottler.html" target="_top">Frames</a></li>
<li><a href="Throttler.ConnectionThrottler.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apache.manifoldcf.connectorcommon.throttler</div>
<h2 title="Class Throttler.ConnectionThrottler" class="title">Class Throttler.ConnectionThrottler</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>org.apache.manifoldcf.connectorcommon.throttler.Throttler.ConnectionThrottler</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../../../org/apache/manifoldcf/connectorcommon/interfaces/IConnectionThrottler.html" title="interface in org.apache.manifoldcf.connectorcommon.interfaces">IConnectionThrottler</a></dd>
</dl>
<dl>
<dt>Enclosing class:</dt>
<dd><a href="../../../../../org/apache/manifoldcf/connectorcommon/throttler/Throttler.html" title="class in org.apache.manifoldcf.connectorcommon.throttler">Throttler</a></dd>
</dl>
<hr>
<br>
<pre>protected static class <span class="typeNameLabel">Throttler.ConnectionThrottler</span>
extends java.lang.Object
implements <a href="../../../../../org/apache/manifoldcf/connectorcommon/interfaces/IConnectionThrottler.html" title="interface in org.apache.manifoldcf.connectorcommon.interfaces">IConnectionThrottler</a></pre>
<div class="block">Connection throttler implementation class.
 This class instance stores some parameters and links back to ThrottlingGroup.  But each class instance
 models a connection pool with the specified bins.  But the description of each pool consists of more than just
 the bin names that describe the throttling - it also may include connection parameters which we have
 no insight into at this level.

 Thus, in order to do pool tracking properly, we cannot simply rely on the individual connection bin instances
 to do all the work, since they cannot distinguish between different pools properly.  So that leaves us with
 two choices.  (1) We can somehow push the separate pool instance parameters down to the connection bin
 level, or (2) the connection bins cannot actually do any waiting or blocking.

 The benefit of having blocking take place in connection bins is that they are in fact designed to be precisely
 the thing you would want to synchronize on.   If we presume that the waits happen in those classes,
 then we need the ability to send in our local pool count to them, and we need to be able to "wake up"
 those underlying classes when the local pool count changes.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected java.lang.String[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/manifoldcf/connectorcommon/throttler/Throttler.ConnectionThrottler.html#binNames">binNames</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="../../../../../org/apache/manifoldcf/connectorcommon/throttler/Throttler.ThrottlingGroup.html" title="class in org.apache.manifoldcf.connectorcommon.throttler">Throttler.ThrottlingGroup</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/manifoldcf/connectorcommon/throttler/Throttler.ConnectionThrottler.html#parent">parent</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected java.util.concurrent.atomic.AtomicInteger[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/manifoldcf/connectorcommon/throttler/Throttler.ConnectionThrottler.html#poolCounts">poolCounts</a></span></code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="fields.inherited.from.class.org.apache.manifoldcf.connectorcommon.interfaces.IConnectionThrottler">
<!--   -->
</a>
<h3>Fields inherited from interface&nbsp;org.apache.manifoldcf.connectorcommon.interfaces.<a href="../../../../../org/apache/manifoldcf/connectorcommon/interfaces/IConnectionThrottler.html" title="interface in org.apache.manifoldcf.connectorcommon.interfaces">IConnectionThrottler</a></h3>
<code><a href="../../../../../org/apache/manifoldcf/connectorcommon/interfaces/IConnectionThrottler.html#Z:Z_rcsid">_rcsid</a>, <a href="../../../../../org/apache/manifoldcf/connectorcommon/interfaces/IConnectionThrottler.html#CONNECTION_FROM_CREATION">CONNECTION_FROM_CREATION</a>, <a href="../../../../../org/apache/manifoldcf/connectorcommon/interfaces/IConnectionThrottler.html#CONNECTION_FROM_NOWHERE">CONNECTION_FROM_NOWHERE</a>, <a href="../../../../../org/apache/manifoldcf/connectorcommon/interfaces/IConnectionThrottler.html#CONNECTION_FROM_POOL">CONNECTION_FROM_POOL</a></code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../../org/apache/manifoldcf/connectorcommon/throttler/Throttler.ConnectionThrottler.html#ConnectionThrottler-org.apache.manifoldcf.connectorcommon.throttler.Throttler.ThrottlingGroup-java.lang.String:A-">ConnectionThrottler</a></span>(<a href="../../../../../org/apache/manifoldcf/connectorcommon/throttler/Throttler.ThrottlingGroup.html" title="class in org.apache.manifoldcf.connectorcommon.throttler">Throttler.ThrottlingGroup</a>&nbsp;parent,
                   java.lang.String[]&nbsp;binNames)</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/manifoldcf/connectorcommon/throttler/Throttler.ConnectionThrottler.html#checkDestroyPooledConnection--">checkDestroyPooledConnection</a></span>()</code>
<div class="block">This method calculates whether a connection should be taken from the pool and destroyed
    /* in order to meet quota requirements.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/manifoldcf/connectorcommon/throttler/Throttler.ConnectionThrottler.html#checkExpireConnection--">checkExpireConnection</a></span>()</code>
<div class="block">Connection expiration is tricky, because even though a connection may be identified as
 being expired, at the very same moment it could be handed out in another thread.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code><a href="../../../../../org/apache/manifoldcf/connectorcommon/interfaces/IFetchThrottler.html" title="interface in org.apache.manifoldcf.connectorcommon.interfaces">IFetchThrottler</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/manifoldcf/connectorcommon/throttler/Throttler.ConnectionThrottler.html#getNewConnectionFetchThrottler--">getNewConnectionFetchThrottler</a></span>()</code>
<div class="block">For a new connection, obtain the fetch throttler to use for the connection.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/manifoldcf/connectorcommon/throttler/Throttler.ConnectionThrottler.html#noteConnectionDestroyed--">noteConnectionDestroyed</a></span>()</code>
<div class="block">Note that a connection has been destroyed.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/manifoldcf/connectorcommon/throttler/Throttler.ConnectionThrottler.html#noteConnectionReturnedToPool--">noteConnectionReturnedToPool</a></span>()</code>
<div class="block">Note that a connection has been returned to the pool.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/manifoldcf/connectorcommon/throttler/Throttler.ConnectionThrottler.html#noteReturnedConnection--">noteReturnedConnection</a></span>()</code>
<div class="block">For returning a connection from use, there is only one method.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/manifoldcf/connectorcommon/throttler/Throttler.ConnectionThrottler.html#waitConnectionAvailable--">waitConnectionAvailable</a></span>()</code>
<div class="block">Get permission to grab a connection for use.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/apache/manifoldcf/connectorcommon/throttler/Throttler.ConnectionThrottler.html#waitConnectionAvailable-org.apache.manifoldcf.connectorcommon.interfaces.IBreakCheck-">waitConnectionAvailable</a></span>(<a href="../../../../../org/apache/manifoldcf/connectorcommon/interfaces/IBreakCheck.html" title="interface in org.apache.manifoldcf.connectorcommon.interfaces">IBreakCheck</a>&nbsp;breakCheck)</code>
<div class="block">Get permission to grab a connection for use.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="parent">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>parent</h4>
<pre>protected final&nbsp;<a href="../../../../../org/apache/manifoldcf/connectorcommon/throttler/Throttler.ThrottlingGroup.html" title="class in org.apache.manifoldcf.connectorcommon.throttler">Throttler.ThrottlingGroup</a> parent</pre>
</li>
</ul>
<a name="binNames">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>binNames</h4>
<pre>protected final&nbsp;java.lang.String[] binNames</pre>
</li>
</ul>
<a name="poolCounts">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>poolCounts</h4>
<pre>protected final&nbsp;java.util.concurrent.atomic.AtomicInteger[] poolCounts</pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="ConnectionThrottler-org.apache.manifoldcf.connectorcommon.throttler.Throttler.ThrottlingGroup-java.lang.String:A-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>ConnectionThrottler</h4>
<pre>public&nbsp;ConnectionThrottler(<a href="../../../../../org/apache/manifoldcf/connectorcommon/throttler/Throttler.ThrottlingGroup.html" title="class in org.apache.manifoldcf.connectorcommon.throttler">Throttler.ThrottlingGroup</a>&nbsp;parent,
                           java.lang.String[]&nbsp;binNames)</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="waitConnectionAvailable--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>waitConnectionAvailable</h4>
<pre>public&nbsp;int&nbsp;waitConnectionAvailable()
                            throws java.lang.InterruptedException</pre>
<div class="block">Get permission to grab a connection for use.  If this object believes there is a connection
 available in the pool, it will update its pool size variable and return   If not, this method
 evaluates whether a new connection should be created.  If neither condition is true, it
 waits until a connection is available.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../org/apache/manifoldcf/connectorcommon/interfaces/IConnectionThrottler.html#waitConnectionAvailable--">waitConnectionAvailable</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/apache/manifoldcf/connectorcommon/interfaces/IConnectionThrottler.html" title="interface in org.apache.manifoldcf.connectorcommon.interfaces">IConnectionThrottler</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>whether to take the connection from the pool, or create one, or whether the
 throttler is being shut down.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.InterruptedException</code></dd>
</dl>
</li>
</ul>
<a name="waitConnectionAvailable-org.apache.manifoldcf.connectorcommon.interfaces.IBreakCheck-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>waitConnectionAvailable</h4>
<pre>public&nbsp;int&nbsp;waitConnectionAvailable(<a href="../../../../../org/apache/manifoldcf/connectorcommon/interfaces/IBreakCheck.html" title="interface in org.apache.manifoldcf.connectorcommon.interfaces">IBreakCheck</a>&nbsp;breakCheck)
                            throws java.lang.InterruptedException,
                                   <a href="../../../../../org/apache/manifoldcf/connectorcommon/interfaces/BreakException.html" title="class in org.apache.manifoldcf.connectorcommon.interfaces">BreakException</a></pre>
<div class="block">Get permission to grab a connection for use.  If this object believes there is a connection
 available in the pool, it will update its pool size variable and return   If not, this method
 evaluates whether a new connection should be created.  If neither condition is true, it
 waits until a connection is available.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../org/apache/manifoldcf/connectorcommon/interfaces/IConnectionThrottler.html#waitConnectionAvailable-org.apache.manifoldcf.connectorcommon.interfaces.IBreakCheck-">waitConnectionAvailable</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/apache/manifoldcf/connectorcommon/interfaces/IConnectionThrottler.html" title="interface in org.apache.manifoldcf.connectorcommon.interfaces">IConnectionThrottler</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>whether to take the connection from the pool, or create one, or whether the
 throttler is being shut down.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.InterruptedException</code></dd>
<dd><code><a href="../../../../../org/apache/manifoldcf/connectorcommon/interfaces/BreakException.html" title="class in org.apache.manifoldcf.connectorcommon.interfaces">BreakException</a></code></dd>
</dl>
</li>
</ul>
<a name="getNewConnectionFetchThrottler--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNewConnectionFetchThrottler</h4>
<pre>public&nbsp;<a href="../../../../../org/apache/manifoldcf/connectorcommon/interfaces/IFetchThrottler.html" title="interface in org.apache.manifoldcf.connectorcommon.interfaces">IFetchThrottler</a>&nbsp;getNewConnectionFetchThrottler()</pre>
<div class="block">For a new connection, obtain the fetch throttler to use for the connection.
 If the result from waitConnectionAvailable() is CONNECTION_FROM_CREATION,
 the calling code is expected to create a connection using the result of this method.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../org/apache/manifoldcf/connectorcommon/interfaces/IConnectionThrottler.html#getNewConnectionFetchThrottler--">getNewConnectionFetchThrottler</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/apache/manifoldcf/connectorcommon/interfaces/IConnectionThrottler.html" title="interface in org.apache.manifoldcf.connectorcommon.interfaces">IConnectionThrottler</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the fetch throttler for a new connection.</dd>
</dl>
</li>
</ul>
<a name="noteReturnedConnection--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>noteReturnedConnection</h4>
<pre>public&nbsp;boolean&nbsp;noteReturnedConnection()</pre>
<div class="block">For returning a connection from use, there is only one method.  This method signals
    /* whether a formerly in-use connection should be placed back in the pool or destroyed.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../org/apache/manifoldcf/connectorcommon/interfaces/IConnectionThrottler.html#noteReturnedConnection--">noteReturnedConnection</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/apache/manifoldcf/connectorcommon/interfaces/IConnectionThrottler.html" title="interface in org.apache.manifoldcf.connectorcommon.interfaces">IConnectionThrottler</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the connection should NOT be put into the pool but should instead
  simply be destroyed.  If true is returned, the caller MUST call noteConnectionDestroyed()
  (below) in order for the bookkeeping to work.</dd>
</dl>
</li>
</ul>
<a name="checkDestroyPooledConnection--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>checkDestroyPooledConnection</h4>
<pre>public&nbsp;boolean&nbsp;checkDestroyPooledConnection()</pre>
<div class="block">This method calculates whether a connection should be taken from the pool and destroyed
    /* in order to meet quota requirements.  If this method returns
    /* true, you MUST remove a connection from the pool, and you MUST call
    /* noteConnectionDestroyed() afterwards.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../org/apache/manifoldcf/connectorcommon/interfaces/IConnectionThrottler.html#checkDestroyPooledConnection--">checkDestroyPooledConnection</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/apache/manifoldcf/connectorcommon/interfaces/IConnectionThrottler.html" title="interface in org.apache.manifoldcf.connectorcommon.interfaces">IConnectionThrottler</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if a pooled connection should be destroyed.  If true is returned, the
 caller MUST call noteConnectionDestroyed() (below) in order for the bookkeeping to work.</dd>
</dl>
</li>
</ul>
<a name="checkExpireConnection--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>checkExpireConnection</h4>
<pre>public&nbsp;boolean&nbsp;checkExpireConnection()</pre>
<div class="block">Connection expiration is tricky, because even though a connection may be identified as
 being expired, at the very same moment it could be handed out in another thread.  So there
 is a natural race condition present.
 The way the connection throttler deals with that is to allow the caller to reserve a connection
 for expiration.  This must be called BEFORE the actual identified connection is removed from the
 connection pool.  If the value returned by this method is "true", then a connection MUST be removed
 from the pool and destroyed, whether or not the identified connection is actually still available for
 destruction or not.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../org/apache/manifoldcf/connectorcommon/interfaces/IConnectionThrottler.html#checkExpireConnection--">checkExpireConnection</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/apache/manifoldcf/connectorcommon/interfaces/IConnectionThrottler.html" title="interface in org.apache.manifoldcf.connectorcommon.interfaces">IConnectionThrottler</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if a connection from the pool can be expired.  If true is returned, noteConnectionDestruction()
  MUST be called once the connection has actually been destroyed.</dd>
</dl>
</li>
</ul>
<a name="noteConnectionReturnedToPool--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>noteConnectionReturnedToPool</h4>
<pre>public&nbsp;void&nbsp;noteConnectionReturnedToPool()</pre>
<div class="block">Note that a connection has been returned to the pool.  Call this method after a connection has been
 placed back into the pool and is available for use.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../org/apache/manifoldcf/connectorcommon/interfaces/IConnectionThrottler.html#noteConnectionReturnedToPool--">noteConnectionReturnedToPool</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/apache/manifoldcf/connectorcommon/interfaces/IConnectionThrottler.html" title="interface in org.apache.manifoldcf.connectorcommon.interfaces">IConnectionThrottler</a></code></dd>
</dl>
</li>
</ul>
<a name="noteConnectionDestroyed--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>noteConnectionDestroyed</h4>
<pre>public&nbsp;void&nbsp;noteConnectionDestroyed()</pre>
<div class="block">Note that a connection has been destroyed.  Call this method ONLY after noteReturnedConnection()
 or checkDestroyPooledConnection() returns true, AND the connection has been already
 destroyed.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../org/apache/manifoldcf/connectorcommon/interfaces/IConnectionThrottler.html#noteConnectionDestroyed--">noteConnectionDestroyed</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/apache/manifoldcf/connectorcommon/interfaces/IConnectionThrottler.html" title="interface in org.apache.manifoldcf.connectorcommon.interfaces">IConnectionThrottler</a></code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Throttler.ConnectionThrottler.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/apache/manifoldcf/connectorcommon/throttler/Throttler.html" title="class in org.apache.manifoldcf.connectorcommon.throttler"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../org/apache/manifoldcf/connectorcommon/throttler/Throttler.FetchThrottler.html" title="class in org.apache.manifoldcf.connectorcommon.throttler"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/apache/manifoldcf/connectorcommon/throttler/Throttler.ConnectionThrottler.html" target="_top">Frames</a></li>
<li><a href="Throttler.ConnectionThrottler.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
